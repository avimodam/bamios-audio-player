var e,t;e=this,t=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,l=void 0,'symbol'==typeof(l=((e,t)=>{if('object'!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||'default');if('object'!=typeof n)return n;throw new TypeError('@@toPrimitive must return a primitive value.')}return('string'===t?String:Number)(e)})(i,'string'))?l:String(l)),n)}var i,l}return function(){function t(e,a){((e,t)=>{if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')})(this,t);var n=a||{};if(this.player='string'==typeof e?document.querySelector(e):void 0,void 0===this.player||null===this.player)throw'Cannot determine player element!';if(this.audio='string'==typeof e?document.querySelector(e+' audio'):void 0,void 0===this.audio||null===this.audio)throw'Cannot determine audio element!';this.stopOthersOnPlay=void 0===n.stopOthersOnPlay||n.stopOthersOnPlay,this.muted=!1,this.isAdjustingTime=!1,this.isClickedPlayBtn=!1,this.initUi(),this.initEvents()}var a,n,i;return a=t,i=[{key:'playIcon',value:()=>'<svg viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4.56 10.87l-6.07 3.44A1 1 0 019 15.45v-6.9a1 1 0 011.46-.86l6.07 3.44a1 1 0 01.03 1.74z"/></svg>'},{key:'pauseIcon',value:()=>'<svg viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm-1.24 13a1.5 1.5 0 01-3 0V9a1.5 1.5 0 013 0v6zm5.48 0a1.5 1.5 0 01-3 0V9a1.5 1.5 0 013 0v6z"/></svg>'},{key:'replayIcon',value:()=>'<svg viewBox="0 0 24 24"><path d="M8.72 10.324l-.59.436a.55.55 0 01-.35.109c-.16 0-.3-.06-.42-.18s-.18-.264-.18-.43c0-.214.103-.387.31-.521l1.44-.96a.646.646 0 01.225-.1c.083-.018.161-.028.235-.028.193 0 .346.059.46.175.113.117.17.262.17.436v5.78a.579.579 0 01-.185.436.67.67 0 01-.475.173.635.635 0 01-.46-.175.584.584 0 01-.18-.436v-4.715zm5.219 5.426c-.572 0-1.058-.151-1.454-.455-.397-.303-.699-.727-.905-1.27s-.31-1.168-.31-1.875c0-.713.104-1.34.31-1.88s.508-.962.905-1.265c.396-.304.882-.455 1.454-.455.574 0 1.059.151 1.455.455.396.303.699.725.906 1.265.206.54.31 1.167.31 1.88 0 .707-.104 1.333-.31 1.875-.207.543-.51.967-.906 1.27-.396.304-.88.455-1.455.455zm0-1.199c.281 0 .522-.089.726-.266s.362-.443.476-.8.17-.802.17-1.335c0-.54-.057-.986-.17-1.34s-.272-.618-.476-.795-.444-.265-.726-.265a1.07 1.07 0 00-.719.266c-.207.177-.367.441-.48.795-.114.354-.17.8-.17 1.34 0 .533.056.979.17 1.335.113.356.273.623.48.8.207.176.446.265.719.265zm4.081-8.567A8.457 8.457 0 0012.011 3.5L12 3.502V2.53a.58.58 0 00-.94-.45l-2.43 2a.57.57 0 000 .92l2.43 2a.58.58 0 00.94-.53V5.5h.011c1.735 0 3.367.675 4.597 1.9a6.47 6.47 0 011.913 4.601 6.463 6.463 0 01-1.9 4.605 6.47 6.47 0 01-4.6 1.913h-.011a6.47 6.47 0 01-4.595-1.899 6.469 6.469 0 01-1.915-4.6 6.557 6.557 0 011.925-4.63 1 1 0 00-1.409-1.42A8.573 8.573 0 003.5 12.022a8.456 8.456 0 002.501 6.014 8.45 8.45 0 006.007 2.483h.015a8.452 8.452 0 006.013-2.501 8.455 8.455 0 002.484-6.021 8.45 8.45 0 00-2.5-6.013z"/></svg>'},{key:'forwardIcon',value:()=>'<svg viewBox="0 0 24 24"><path d="M8.72 10.324l-.59.436a.55.55 0 01-.35.109c-.16 0-.3-.06-.42-.18s-.18-.264-.18-.43c0-.214.103-.387.31-.521l1.44-.96a.646.646 0 01.225-.1c.083-.018.161-.028.235-.028.193 0 .346.059.46.175.113.117.17.262.17.436v5.78a.579.579 0 01-.185.436.67.67 0 01-.475.173.635.635 0 01-.46-.175.584.584 0 01-.18-.436v-4.715zm5.219 5.426c-.572 0-1.058-.151-1.454-.455-.397-.303-.699-.727-.905-1.27s-.31-1.168-.31-1.875c0-.713.104-1.34.31-1.88s.508-.962.905-1.265c.396-.304.882-.455 1.454-.455.574 0 1.059.151 1.455.455.396.303.699.725.906 1.265.206.54.31 1.167.31 1.88 0 .707-.104 1.333-.31 1.875-.207.543-.51.967-.906 1.27-.396.304-.88.455-1.455.455zm0-1.199c.281 0 .522-.089.726-.266s.362-.443.476-.8.17-.802.17-1.335c0-.54-.057-.986-.17-1.34s-.272-.618-.476-.795-.444-.265-.726-.265a1.07 1.07 0 00-.719.266c-.207.177-.367.441-.48.795-.114.354-.17.8-.17 1.34 0 .533.056.979.17 1.335.113.356.273.623.48.8.207.176.446.265.719.265zm4.045-8.58a1 1 0 10-1.408 1.419 6.548 6.548 0 011.923 4.629 6.472 6.472 0 01-1.913 4.601 6.466 6.466 0 01-4.595 1.899h-.011a6.472 6.472 0 01-4.601-1.913 6.467 6.467 0 01-1.9-4.605A6.473 6.473 0 017.393 7.4a6.465 6.465 0 014.597-1.9h.011v.97a.579.579 0 00.939.53l2.43-2a.57.57 0 000-.92l-2.43-2a.58.58 0 00-.94.45v.97h-.011A8.455 8.455 0 005.98 5.984a8.456 8.456 0 00-2.501 6.014c-.003 2.272.879 4.411 2.484 6.021s3.741 2.498 6.014 2.501h.014c2.268 0 4.4-.882 6.007-2.483a8.456 8.456 0 002.501-6.014 8.562 8.562 0 00-2.515-6.052z"/></svg>'},{key:'volumeIcon',value:()=>'<svg viewBox="0 0 24 24"><path d="M13.5 4.23v15.54a1.8 1.8 0 01-3.19 1.13l-4-4.9H4.2a1.7 1.7 0 01-1.7-1.7V9.7A1.7 1.7 0 014.2 8h2.11l4-4.9a1.8 1.8 0 013.19 1.13zm5.771 14.661c3.793-3.8 3.793-9.982-.001-13.78a.751.751 0 00-1.061 1.06c3.209 3.214 3.209 8.445-.001 11.66a.752.752 0 00.531 1.281.759.759 0 00.532-.221zm-2.121-2.12c2.627-2.631 2.627-6.911 0-9.541a.751.751 0 00-1.061 1.06 5.258 5.258 0 010 7.42.75.75 0 101.061 1.061z"/></svg>'},{key:'volumeLowIcon',value:()=>'<svg viewBox="0 0 24 24"><path d="M13.5 4.23v15.54a1.8 1.8 0 01-3.19 1.13l-4-4.9H4.2a1.7 1.7 0 01-1.7-1.7V9.7A1.7 1.7 0 014.2 8h2.11l4-4.9a1.8 1.8 0 013.19 1.13zm3.65 12.541c2.627-2.631 2.627-6.911 0-9.541a.751.751 0 00-1.061 1.06 5.258 5.258 0 010 7.42.75.75 0 101.061 1.061z"/></svg>'},{key:'volumeOffIcon',value:()=>'<svg viewBox="0 0 24 24"><path d="M13.5 4.23v15.54a1.8 1.8 0 01-3.19 1.13l-4-4.9H4.2a1.7 1.7 0 01-1.7-1.7V9.7A1.7 1.7 0 014.2 8h2.11l4-4.9a1.8 1.8 0 013.19 1.13zm8.03 10.55a.75.75 0 000-1.061l-4.5-4.5a.75.75 0 10-1.061 1.061l4.5 4.5a.748.748 0 001.061 0zm-4.5 0l4.5-4.5a.75.75 0 10-1.061-1.061l-4.5 4.5a.75.75 0 101.061 1.061z"/></svg>'},{key:'playPlayer',value:e=>{var a=e.querySelector('.bamios-btn-play-pause'),n=e.querySelector('audio');a.classList.add('bamios-playing'),a.innerHTML=t.pauseIcon(),n.play()}},{key:'pausePlayer',value:e=>{var a=e.querySelector('.bamios-btn-play-pause'),n=e.querySelector('audio');a.classList.remove('bamios-playing'),a.innerHTML=t.playIcon(),n.pause()}},{key:'pauseOtherPlayers',value:()=>{for(var e=document.querySelectorAll('.bamios'),a=0;a<e.length;a++)t.pausePlayer(e[a])}},{key:'toTimeString',value:e=>{var t=Math.floor(e/60),a=Math.floor(e%60);return Math.floor(t%60).toString().padStart(2,'0')+':'+a.toString().padStart(2,'0')}}],(n=[{key:'initUi',value:function(){var e=this;this.player.classList.add('bamios'),this.volumeCtl=document.createElement('div'),this.volumeCtl.classList.add('bamios-volume-ctl'),this.volumePanelContainer=document.createElement('div'),this.volumePanelContainer.classList.add('bamios-volume-panel-container'),this.volumeCtl.append(this.volumePanelContainer),this.volumeHandle=document.createElement('div'),this.volumeHandle.classList.add('bamios-volume-handle'),this.volumePanelContainer.append(this.volumeHandle),this.volumePanel=document.createElement('div'),this.volumePanel.classList.add('bamios-volume-panel'),this.volumePanelContainer.append(this.volumePanel),this.volumeSlider=document.createElement('div'),this.volumeSlider.classList.add('bamios-volume-slider'),this.volumePanel.append(this.volumeSlider),this.volumeBtn=document.createElement('button'),this.volumeBtn.classList.add('bamios-btn'),this.volumeBtn.classList.add('bamios-btn-volume'),this.volumeBtn.innerHTML=t.volumeIcon(),this.volumeCtl.append(this.volumeBtn);var a=document.createElement('div');a.classList.add('bamios-left-controls'),this.replayBtn=document.createElement('button'),this.replayBtn.setAttribute('type','button'),this.replayBtn.setAttribute('title','Replay'),this.replayBtn.classList.add('bamios-btn'),this.replayBtn.classList.add('bamios-btn-replay'),this.replayBtn.innerHTML=t.replayIcon(),a.append(this.replayBtn);var n=document.createElement('button');n.classList.add('bamios-btn'),n.classList.add('bamios-btn-play-pause'),n.addEventListener('click',(a=>{!a.currentTarget.classList.contains('bamios-playing')&&e.stopOthersOnPlay&&t.pauseOtherPlayers(),a.currentTarget.classList.contains('bamios-playing')?(e.isClickedPlayBtn=!1,t.pausePlayer(e.player)):(e.isClickedPlayBtn=!0,t.playPlayer(e.player))})),n.innerHTML=t.playIcon(),a.append(n);var i=document.createElement('button');i.classList.add('bamios-btn'),i.classList.add('bamios-btn-forward'),i.addEventListener('click',(()=>{e.audio.currentTime=e.audio.currentTime+10})),i.innerHTML=t.forwardIcon(),a.append(i),this.player.append(a),this.controlsRight=document.createElement('div'),this.controlsRight.classList.add('bamios-right-controls');var l=document.createElement('div');l.classList.add('bamios-current-time'),l.innerText='00:00',this.controlsRight.append(l),this.audio.ontimeupdate=()=>{l.innerHTML=t.toTimeString(e.audio.currentTime);var a=e.audio.currentTime/e.audio.duration*100+'%';u.style.width=a,s||(d.style.transform='translate('+(u.getBoundingClientRect().width-8)+'px, -50%)')},this.audio.onended=()=>{e.stop()};var o=document.createElement('div');o.classList.add('bamios-progress-bar');var s=!1,r=!1;o.addEventListener('mousedown',(t=>{s=!0,e.isAdjustingTime=!0,e.pause();var a=t.clientX-o.getBoundingClientRect().left;if(a>=0&&a<=o.getBoundingClientRect().width){var n=a/o.getBoundingClientRect().width*e.audio.duration;e.setCurrentTime(n),d.style.transform='translate('+(a-8)+'px, -50%)'}})),window.addEventListener('mouseup',(()=>{s=!1,e.isAdjustingTime&&(e.isAdjustingTime=!1,e.stopOthersOnPlay&&e.isClickedPlayBtn&&(t.pauseOtherPlayers(),e.play())),r||(d.style.transition='opacity 0.6s ease-in-out',d.style.opacity=0),e.muted||(e.audio.muted=!1)})),o.addEventListener('mouseenter',(()=>{r=!0,d.style.display='block',d.style.transition='opacity 0.15s ease-in-out',d.style.opacity=1})),o.addEventListener('mouseleave',(()=>{r=!1,s||(d.style.display='none',d.style.transition='opacity 0.6s ease-in-out',d.style.opacity=0)})),window.addEventListener('mousemove',(t=>{if(s){e.audio.muted=!0;var a=t.clientX-o.getBoundingClientRect().left,n=a/o.getBoundingClientRect().width*e.audio.duration;a>=0&&a<=o.getBoundingClientRect().width&&(d.style.transform='translate('+(a-8)+'px, -50%)',e.setCurrentTime(n))}})),this.progress=document.createElement('div'),this.progress.classList.add('bamios-progress-list');var u=document.createElement('div');u.classList.add('bamios-play-progress'),this.progress.append(u);var d=document.createElement('div');d.classList.add('bamios-progress-handle'),o.append(d),o.append(this.progress),this.controlsRight.append(o),this.duration=document.createElement('div'),this.duration.classList.add('bamios-duration'),this.duration.innerText='00:00',this.controlsRight.append(this.duration),this.controlsRight.append(this.volumeCtl),this.volumeSlider.style.width='100%',this.audio.onloadedmetadata=()=>{e.duration.innerText=t.toTimeString(e.audio.duration),e.volumeHandle.style.transform='translate('+(80*e.audio.volume-8)+'px, -50%)'},this.player.append(this.controlsRight)}},{key:'initEvents',value:function(){var e=this,a=!1,n=!1,i=!1,l=!1;this.replayBtn.addEventListener('click',(()=>{e.audio.currentTime=e.audio.currentTime-10})),this.volumeBtn.addEventListener('click',(a=>{e.audio.volume>0&&(a.currentTarget.classList.contains('muted')?(a.currentTarget.classList.remove('muted'),a.currentTarget.innerHTML=t.volumeIcon(),e.volumeSlider.style.width=100*e.audio.volume+'%',e.volumeHandle.style.transform='translate('+(80*e.audio.volume-8)+'px, -50%)',e.audio.muted=!1,e.muted=!1):(a.currentTarget.classList.add('muted'),a.currentTarget.innerHTML=t.volumeOffIcon(),e.volumeSlider.style.width='0%',e.volumeHandle.style.transform='translate(-8px, -50%)',e.audio.muted=!0,e.muted=!0))})),this.volumeCtl.addEventListener('mouseenter',(()=>{l=!0,window.innerWidth>520&&(e.volumePanel.style.width='80px',e.volumeCtl.style.paddingLeft='15px',e.volumeCtl.style.background='rgba(0, 0, 0, 0.04)',e.volumePanelContainer.style.marginRight='10px',e.volumePanel.style.opacity=1,setTimeout((()=>{l&&!e.audio.muted&&(e.volumeHandle.style.transform='translate('+(80*e.audio.volume-8)+'px, -50%)')}),150))})),this.volumeCtl.addEventListener('mouseleave',(()=>{a||(l=!1,e.volumePanel.style.width=0,e.volumeCtl.style.paddingLeft=0,e.volumeCtl.style.background='transparent',e.volumePanelContainer.style.marginRight=0,e.volumePanel.style.opacity=0,e.volumeHandle.style.opacity=0,e.volumeHandle.style.display='none')})),this.volumePanelContainer.addEventListener('mousedown',(n=>{a=!0;var i=n.clientX-e.volumePanelContainer.getBoundingClientRect().left;if(i>=0&&i<=80){var l=i/80;l<0&&(l=0),l>1&&(l=1),e.audio.volume=l,e.volumeSlider.style.width=100*l+'%',e.volumeHandle.style.transform='translate('+(i-8)+'px, -50%)',l<=0?(e.volumeBtn.innerHTML=t.volumeOffIcon(),e.audio.muted=!0,e.muted=!0):l<=.6?(e.volumeBtn.innerHTML=t.volumeLowIcon(),e.audio.muted=!1,e.muted=!1):(e.volumeBtn.innerHTML=t.volumeIcon(),e.audio.muted=!1,e.muted=!1)}})),window.addEventListener('mouseup',(t=>{a=!1,n||(e.volumeHandle.style.opacity=0,e.volumeHandle.style.display='none'),i||(e.volumePanel.style.width=0,e.volumeCtl.style.paddingLeft=0,e.volumeCtl.style.background='transparent',e.volumePanelContainer.style.marginRight=0,e.volumePanel.style.opacity=0)})),window.addEventListener('mousemove',(n=>{if(a){var i=n.clientX-e.volumePanelContainer.getBoundingClientRect().left,l=i/80;l<0&&(l=0),l>1&&(l=1),i<=0?(e.audio.volume=0,e.volumeSlider.style.width=0,e.volumeHandle.style.transform='translate(-8px, -50%)'):i>0&&i<=e.volumePanelContainer.getBoundingClientRect().width?(e.audio.volume=l,e.volumeSlider.style.width=100*l+'%',e.volumeHandle.style.transform='translate('+(i-8)+'px, -50%)'):(e.audio.volume=1,e.volumeSlider.style.width='100%',e.volumeHandle.style.transform='translate(72px, -50%)'),l<=0?(e.volumeBtn.innerHTML=t.volumeOffIcon(),e.audio.muted=!0,e.muted=!0):l<=.5?(e.volumeBtn.innerHTML=t.volumeLowIcon(),e.audio.muted=!1,e.muted=!1):(e.volumeBtn.innerHTML=t.volumeIcon(),e.audio.muted=!1,e.muted=!1)}})),this.volumePanelContainer.addEventListener('mouseenter',(()=>{n=!0,e.volumeHandle.style.opacity=1,e.volumeHandle.style.display='block'})),this.volumePanelContainer.addEventListener('mouseleave',(()=>{n=!1,a||(e.volumeHandle.style.opacity=0,e.volumeHandle.style.display='none')})),this.volumeCtl.addEventListener('mouseenter',(()=>{i=!0})),this.volumeCtl.addEventListener('mouseleave',(()=>{i=!1}))}},{key:'setCurrentTime',value:function(e){e>=0&&e<=this.audio.duration&&(this.audio.currentTime=e)}},{key:'play',value:function(){t.playPlayer(this.player)}},{key:'pause',value:function(){t.pausePlayer(this.player)}},{key:'stop',value:function(){t.pausePlayer(this.player),this.audio.currentTime=0}}])&&e(a.prototype,n),i&&e(a,i),Object.defineProperty(a,'prototype',{writable:!1}),t}()},'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):(e='undefined'!=typeof globalThis?globalThis:e||self).Bamios=t();
//# sourceMappingURL=bamios.min.js.map
